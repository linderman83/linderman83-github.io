(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{474:function(t,s,a){"use strict";a.r(s);var e=a(16),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("I hope you already know what next-get image formats are why they are they beneficial for SEO. In this article i will try to put small guide on how to make/convert your current Wordpress site images to webp, manually, no plugins involved.")]),t._v(" "),a("p",[t._v("To read more about webp image format: "),a("RouterLink",{attrs:{to:"/image-optimization-using-jpegoptim-and-the-new-webp/"}},[t._v("link")])],1),t._v(" "),a("p",[t._v("Main goal here for us is to understand better how Wordpress works on deeper level and how is the database structured.")]),t._v(" "),a("p",[t._v("Although this method is completely possible and works, it requires more serious technical knowledge and is not for everyone.")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("This method is for research and educational purposes.")]),t._v(" "),a("p",[t._v("Its prone to error and not suitable for production websites.")]),t._v(" "),a("p",[t._v("WP database is changed in the process!")]),t._v(" "),a("p",[t._v("Be extra careful and decide if you want to take this path for your self!")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Requirements:")]),t._v(" "),a("ul",[a("li",[t._v("Access to the database")]),t._v(" "),a("li",[t._v("Access to Wordpress files (/wp-content/uploads)")]),t._v(" "),a("li",[t._v("Access to Nginx / Apache configs (optional)")])])]),t._v(" "),a("p",[t._v("Let's go.")]),t._v(" "),a("h3",{attrs:{id:"_1-first-of-all-make-backup-of-the-whole-wp-content-folder-and-the-database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-first-of-all-make-backup-of-the-whole-wp-content-folder-and-the-database"}},[t._v("#")]),t._v(" 1. First of all - make backup of the whole "),a("code",[t._v("/wp-content")]),t._v(" folder and the database!")]),t._v(" "),a("h3",{attrs:{id:"_2-convert-original-images-with-a-tool-of-choice"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-convert-original-images-with-a-tool-of-choice"}},[t._v("#")]),t._v(" 2. Convert original images with a tool of choice.")]),t._v(" "),a("p",[t._v("Choose the best way that serves to you and convert the images in "),a("code",[t._v("[wp-root]/wp-content/uploads")]),t._v(" folder.\nMe personaly, i made simple bash script to do it. If you interested, you can check it below:")]),t._v(" "),a("div",{staticClass:"custom-block details"},[a("p",{staticClass:"custom-block-title"},[t._v("The script")]),t._v(" "),a("p",[t._v("Download and save locally the precompiled webp binaries from:\n"),a("a",{attrs:{href:"https://developers.google.com/speed/webp/docs/precompiled",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://developers.google.com/speed/webp/docs/precompiled"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("In the code, you see my download is located at Downloads/Software")]),t._v(" "),a("p",[t._v("Usage:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("./the_script -l /path_to_images_folder -e jpg|png|gif\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Colors")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("RED")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\033[0;31m'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("GREEN")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\033[0;32m'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("BLUE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\033[0;34m'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("YELLOW")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\033[1;33m'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("NC")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\033[0m'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("location")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("extension")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jpg'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$#")]),t._v(" -gt "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\n    -l"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("location")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$2")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("shift")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("shift")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    -e"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--extension"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("extension")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$2")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("shift")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("shift")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    -*"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("--*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Unknown option '),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v('"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("esac")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("IFS")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("$'"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v("'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("LD_LIBRARY_PATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$LD_LIBRARY_PATH")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$HOME")]),t._v("/Downloads/Software/libwebp-1.3.2-linux-x86-64/lib\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("cwebp")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$HOME")]),t._v("/Downloads/Software/libwebp-1.3.2-linux-x86-64/bin/cwebp\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-alpha_q 0 -m 6 -qrange 35 60 -sns 100 -quiet'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$extension")]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gif"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("cwebp")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$HOME")]),t._v("/Downloads/Software/libwebp-1.3.2-linux-x86-64/bin/gif2webp\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-metadata all -quiet'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" originals "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" originals\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" optimized "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" optimized\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("files")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$location")]),t._v('"')]),t._v(" -iname "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*."')]),t._v("$extension"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("original_count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$files")]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wc")]),t._v(" -l"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("printf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Files count: '),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${original_count}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("optimized_count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("printf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Location size is: '),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${RED}")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("du")]),t._v(" -sh "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$location")]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${NC}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[t._v("file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$files")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("du")]),t._v(" -b "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cut")]),t._v(" -f1"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" originals\n    \n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("filename")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("basename")]),t._v(" -- "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("dirname")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${file"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("$filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("}")]),t._v('"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("extension")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${file"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("##")]),t._v("*.}")]),t._v('"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("newfile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$dirname")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(".*}")]),t._v('.webp"')]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("eval")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$cwebp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$options")]),t._v(" '"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${file}")]),t._v("' -o '"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${newfile}")]),t._v("'\"")]),t._v(" \n\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$newfile")]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("du")]),t._v(" -b "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${newfile}")]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cut")]),t._v(" -f1"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" optimized\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Dont delete original files")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# rm -f "${file}"')]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("optimized_count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$((")]),t._v(" optimized_count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("))")])]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("printf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Done: '),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${optimized_count}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v('"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("printf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Optimized: '),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${optimized_count}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("original_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("read")]),t._v(" line \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("line_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" $line "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" -n "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s/^.* \\([0-9]*\\)$/'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\1"}},[t._v("\\1")]),t._v('/p"')]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("original_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$((")]),t._v(" original_size "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" line_size "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("))")])]),t._v("\ndone"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("originals\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("printf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Total size ORIGINALS: '),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${RED}")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$original_size")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${NC}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("optimized_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("read")]),t._v(" line \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("line_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" $line "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" -n "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s/^.* \\([0-9]*\\)$/'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\1"}},[t._v("\\1")]),t._v('/p"')]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("optimized_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$((")]),t._v(" optimized_size "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" line_size "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("))")])]),t._v("\ndone"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("optimized\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("printf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Total size OPTIMIZED: '),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${YELLOW}")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${optimized_size}")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${NC}")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("printf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"New Location size is: '),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${GREEN}")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("du")]),t._v(" -sh "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$location")]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${NC}")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("printf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${GREEN}")]),t._v("You saved "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$((")]),t._v(" original_size "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" optimized_size "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("))")])]),t._v(" bytes"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${NC}")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('"')]),t._v("\n\n")])])]),a("p",[t._v("Feel yourself free to use or change the code as you wish.")])]),t._v(" "),a("p",[t._v("After the images are converted to webp and are present in wp/wp-content/uploads folder its time to work on DB.")]),t._v(" "),a("h3",{attrs:{id:"_3-check-db-wp-posts-where-your-images-are-located-as-entities-they-are-still-with-their-old-extension-in-this-table"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-check-db-wp-posts-where-your-images-are-located-as-entities-they-are-still-with-their-old-extension-in-this-table"}},[t._v("#")]),t._v(" 3. Check DB->wp_posts, where your images are located as entities. They are still with their old extension in this table.")]),t._v(" "),a("p",[t._v("Ex:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("ID, post_author, post_date, post_date_gmt, post_content, post_title, post_excerpt, post_status, comment_status, ping_status, post_password, post_name, to_ping, pinged, post_modified, post_modified_gmt, post_content_filtered, post_parent, guid, menu_order, post_type, post_mime_type, comment_count\n\n'56', '1', '2023-10-30 08:33:53', '2023-10-30 08:33:53', '', 'Image1.jpg', '', 'inherit', 'open', 'closed', '', 'image1-jpg', '', '', '2023-10-30 08:33:53', '2023-10-30 08:33:53', '', '26', 'https://example.com/wp-content/uploads/2023/10/Image1.jpg', '0', 'attachment', 'image/jpeg', '0'\n\n")])])]),a("h3",{attrs:{id:"_4-update-all-image-entities"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-update-all-image-entities"}},[t._v("#")]),t._v(" 4. Update all image entities:")]),t._v(" "),a("p",[t._v("We will have to update the following columns: "),a("strong",[t._v("post_title")]),t._v(", "),a("strong",[t._v("post_name")]),t._v(", "),a("strong",[t._v("guid")]),t._v(", "),a("strong",[t._v("post_mime_type")]),t._v(" and we want them as:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("ID, post_author, post_date, post_date_gmt, post_content, post_title, post_excerpt, post_status, comment_status, ping_status, post_password, post_name, to_ping, pinged, post_modified, post_modified_gmt, post_content_filtered, post_parent, guid, menu_order, post_type, post_mime_type, comment_count\n\n'56', '1', '2023-10-30 08:33:53', '2023-10-30 08:33:53', '', 'Image1.webp', '', 'inherit', 'open', 'closed', '', 'image1-webp', '', '', '2023-10-30 08:33:53', '2023-10-30 08:33:53', '', '26', 'https://example.com/wp-content/uploads/2023/10/Image1.webp', '0', 'attachment', 'image/webp', '0'\n\n")])])]),a("p",[t._v("The DB query is fairly simple and ugly, but will do the job.")]),t._v(" "),a("p",[t._v("Example Sql query for jpeg to webp(run similar queries for png to webp and gif to webp):")]),t._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UPDATE")]),t._v(" wp_posts\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" \n\tpost_title "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" concat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("post_title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("post_title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tpost_name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" concat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("post_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("post_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tguid "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" concat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("guid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("guid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tpost_mime_type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("REPLACE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("post_mime_type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jpeg'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v("\npost_parent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("AND")]),t._v("\npost_type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'attachment'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("AND")]),t._v("\npost_title "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("LIKE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%jpg'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("AND")]),t._v("\npost_name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("LIKE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%jpg'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("AND")]),t._v("\nguid "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("LIKE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%jpg'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("AND")]),t._v("\npost_mime_type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'image/jpeg'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"_5-also-update-wp-postmeta"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-also-update-wp-postmeta"}},[t._v("#")]),t._v(" 5. Also, update wp_postmeta")]),t._v(" "),a("p",[t._v("Each attachment row in wp_posts, have association in wp_postmeta, using wp_postmeta->post_id column.\nYou can query postmeta, using post_id:")]),t._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" wp_postmeta "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" post_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("56")]),t._v("\n")])])]),a("p",[t._v("You will likely have 3 rows for every attachment.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("meta_key")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("_wp_attached_file")])]),t._v(" "),a("tr",[a("td",[t._v("_wp_attachment_metadata")])]),t._v(" "),a("tr",[a("td",[t._v("_wp_attachment_source")])])])]),t._v(" "),a("p",[t._v("We need to change those too.")]),t._v(" "),a("h3",{attrs:{id:"_5-1-wp-attached-file-and-wc-attachment-source"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-wp-attached-file-and-wc-attachment-source"}},[t._v("#")]),t._v(" 5.1 _wp_attached_file and _wc_attachment_source")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("_wp_attached_file becomes:\n\n2023/10/Image1.webp\n\n_wc_attachment_source becomes:\nhttps://example.com/wp-content/uploads/2023/10/Image1.webp\n")])])]),a("h3",{attrs:{id:"_5-2-wp-attachment-metadata"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-wp-attachment-metadata"}},[t._v("#")]),t._v(" 5.2 _wp_attachment_metadata")]),t._v(" "),a("p",[t._v('_wp_attachment_metadata is a PHP serialized array. We cannot just replace all "jpg" => "webp" and all "image/jpeg" => "image/webp". We will have to also change the length of the new strings. Example:')]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('s:18:"2023/10/Image1.jpg"\n')])])]),a("p",[t._v("means that this value is 18 characters long. And if we change this link to webp, it must be:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('s:19:"2023/10/Image1.webp"\n')])])]),a("p",[t._v("Best way is somehow to unserialize the array, change the values and serialize again. Then, DB save.")]),t._v(" "),a("p",[t._v("For this purpose I used this:")]),t._v(" "),a("p",[t._v("https://github.com/steelbrain/php-serialize#readme")]),t._v(" "),a("p",[t._v("So, the procedure in my head is (i will use Node.js)")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("-> Connect to DB\n\n-> Get all attachment id's from wp_posts (``` WHERE post_type = 'attachment' ```)\n\n---\x3e For each id\n\n-----\x3e Get wp_postmeta rows (``` WHERE post_id = ID ```)\n\n-----\x3e Update _wp_attached_file (replace jpg to webp)\n\n-----\x3e Update _wc_attachment_source (replace jpg to webp)\n\n-----\x3e Use php-serialize package to convert _wp_attachment_metadata to JSON object\n\n-----\x3e JSON.serialize the result from the above step\n\n-----\x3e replace all jpg and jpeg to webp\n\n-----\x3e Use php-serialize package .unserialize the replaced string\n\n-----\x3e Save to DB\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("One more time:")]),t._v(" "),a("p",[t._v("This method is for research and educational purposes.")]),t._v(" "),a("p",[t._v("Its prone to error and not suitable for production websites.")])])])}),[],!1,null,null,null);s.default=n.exports}}]);